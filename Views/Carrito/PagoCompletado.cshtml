@model WebApplicationNBAShop.Models.Pedido

@{
    ViewData["Title"] = "Pago Completado";
}

<div class="container mt-5">
    <h2 class="mb-4">Gracias por su compra!</h2>
    <p class="lead">Hemos recibido su pago por un monto de @Model.Total.ToString("C").</p>

    <h3 class="mt-5">Detalles del pedido</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Número de pedido</th>
                <th>Fecha</th>
                <th>Estado</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.IdPedido</td>
                <td>@Model.Fecha</td>
                <td>@Model.Estado</td>
                <td>@Model.Total.ToString("C")</td>
            </tr>
        </tbody>
    </table>

    <h3 class="mt-5">Detalles de los productos.</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Productos</th>
                <th>Cantidad</th>
                <th>Precio</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var detallePedido in ViewBag.DetallePedidos)
            {
                <tr>
                    <td>@detallePedido.Producto.Nombre</td>
                    <td>@detallePedido.Cantidad</td>
                    <td>@detallePedido.Precio</td>
                    @{
                        var subtotal = detallePedido.Cantidad * detallePedido.Precio;
                    }
                    <td>@subtotal.ToString("C")</td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3">Total:</th>
                <td>@Model.Total.ToString("C")</td>
            </tr>
        </tfoot>
    </table>
</div>
